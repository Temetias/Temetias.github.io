<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#e6e6e6 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.ico rel=icon type=image/ico> <style>main.svelte-16jbveb{position:relative;max-width:56em;padding:2em;margin:8vh auto 0 auto;box-sizing:border-box}@media(max-width:769px){main.svelte-16jbveb{margin:4vh auto 0 auto}}.nav-wrap.svelte-ewvgo9.svelte-ewvgo9{display:flex;justify-content:space-between;margin:0 auto;align-items:stretch;width:100%;max-width:1200px}.primary-nav.svelte-ewvgo9.svelte-ewvgo9{font-weight:500;display:flex;align-items:stretch;justify-content:space-between}ul.svelte-ewvgo9.svelte-ewvgo9{display:flex;align-items:stretch;justify-content:flex-start}li.svelte-ewvgo9.svelte-ewvgo9{padding:0 1em;display:block}a.svelte-ewvgo9.svelte-ewvgo9{font-size:1.4em}.primary-nav.svelte-ewvgo9 a.svelte-ewvgo9{text-decoration:none;text-transform:capitalize}.primary-nav.svelte-ewvgo9 a.svelte-ewvgo9::before{content:"<";margin-right:1px;transition:color .2s}.primary-nav.svelte-ewvgo9 a.svelte-ewvgo9::after{content:"/>";margin-left:1px;transition:color .2s}.primary-nav.svelte-ewvgo9 a.svelte-ewvgo9:hover::after,.primary-nav.svelte-ewvgo9 a.svelte-ewvgo9:hover::before{color:red}.primary-nav.svelte-ewvgo9 a[aria-current].svelte-ewvgo9{color:red}.socials.svelte-ewvgo9.svelte-ewvgo9{padding-right:2em}.socials.svelte-ewvgo9 a.svelte-ewvgo9{font-size:1.6em}.github.svelte-ewvgo9.svelte-ewvgo9,.linkedin.svelte-ewvgo9.svelte-ewvgo9,.twitter.svelte-ewvgo9.svelte-ewvgo9{transition:color .2s}.twitter.svelte-ewvgo9.svelte-ewvgo9:hover{color:#00acee}.github.svelte-ewvgo9.svelte-ewvgo9:hover{color:#333}.linkedin.svelte-ewvgo9.svelte-ewvgo9:hover{color:#0e76a8}.twitch.svelte-ewvgo9.svelte-ewvgo9:hover{color:#6441a5}@media(max-width:660px){.socials-nav.svelte-ewvgo9.svelte-ewvgo9{display:none}.nav-wrap.svelte-ewvgo9.svelte-ewvgo9{justify-content:center}ul.svelte-ewvgo9.svelte-ewvgo9{padding:0;justify-content:center}}@media(max-width:480px){a.svelte-ewvgo9.svelte-ewvgo9{font-size:1.2em}}.fa-svelte.svelte-1d15yci{width:1em;height:1em;overflow:visible;display:inline-block}h1.svelte-1r59cqt{margin-bottom:1em}.content.svelte-1r59cqt{margin:2em 0}.blog-disclaimer.svelte-1r59cqt{display:block;border-bottom:1px solid rgba(0,0,0,.12);border-top:1px solid rgba(0,0,0,.12);padding:2em 0;margin-top:5em;font-weight:600}header.svelte-1jdubmn.svelte-1jdubmn{margin-bottom:1em}a.svelte-1jdubmn.svelte-1jdubmn{font-weight:600}span.svelte-1jdubmn.svelte-1jdubmn{color:rgba(0,0,0,.6)}.post-info.svelte-1jdubmn.svelte-1jdubmn{display:flex}.post-info.svelte-1jdubmn img.svelte-1jdubmn{margin:0;border:1px solid #fff;border-radius:50%;width:4em;height:4em}.post-info-inner.svelte-1jdubmn.svelte-1jdubmn{margin-left:1em}.post-info-inner.svelte-1jdubmn span.svelte-1jdubmn{display:block}.divider-dot.svelte-1jdubmn.svelte-1jdubmn,.divider.svelte-1jdubmn.svelte-1jdubmn{display:inline!important}@media(max-width:480px){.divider.svelte-1jdubmn.svelte-1jdubmn{display:block!important}.divider-dot.svelte-1jdubmn.svelte-1jdubmn{display:none!important;color:red}}footer.svelte-1q2oy3t.svelte-1q2oy3t{max-width:56em;padding:0 2em 2em 2em;margin:8vh auto 0 auto;text-align:center}li.svelte-1q2oy3t.svelte-1q2oy3t{display:block}.socials.svelte-1q2oy3t.svelte-1q2oy3t{text-align:start;padding-left:0;margin-bottom:3em}.socials.svelte-1q2oy3t a.svelte-1q2oy3t{font-size:1.4em}a.svelte-1q2oy3t.svelte-1q2oy3t svg{transform:translateY(.15em)}a.svelte-1q2oy3t.svelte-1q2oy3t{text-decoration:none;line-height:2em}@media(min-width:661px){.socials.svelte-1q2oy3t.svelte-1q2oy3t{display:none}}.last-update.svelte-1q2oy3t.svelte-1q2oy3t{color:#585555}</style> <noscript id=sapper-head-start></noscript><title>Iterative Adoption of a Frontend Framework</title><noscript id=sapper-head-end></noscript> <link href=/client/09cf2fde81f0ccb42afc/main.js rel=preload as=script><link href=/client/09cf2fde81f0ccb42afc/blog_$slug.3.js rel=preload as=script></head> <body> <div id=sapper> <div class="svelte-ewvgo9 nav-wrap"><nav aria-label=primary class="svelte-ewvgo9 primary-nav"><ul class=svelte-ewvgo9><li class=svelte-ewvgo9><a href=. class=svelte-ewvgo9>TK </a></li> <li class=svelte-ewvgo9><a href=blog class=svelte-ewvgo9 aria-current=page>blog </a></ul></nav> <nav aria-label=social-links class="svelte-ewvgo9 socials-nav"><ul class="svelte-ewvgo9 socials"><li class=svelte-ewvgo9><a href=https://github.com/Temetias class="svelte-ewvgo9 github" aria-label="My github"><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill=currentColor></path></svg></a></li> <li class=svelte-ewvgo9><a href=https://twitter.com/Temetias class="svelte-ewvgo9 twitter" aria-label="My twitter"><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill=currentColor></path></svg></a></li> <li class=svelte-ewvgo9><a href=https://www.linkedin.com/in/teemu-karppinen-1174b1139/ class="svelte-ewvgo9 linkedin" aria-label="My linkedin"><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill=currentColor></path></svg></a></li> <li class=svelte-ewvgo9><a href=https://twitch.tv/teemukarppinen class="svelte-ewvgo9 twitch" aria-label="My twitch"><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d=M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z fill=currentColor></path></svg></a></ul></nav></div> <main class=svelte-16jbveb> <h1 class=svelte-1r59cqt id=iterative-adoption-of-a-frontend-framework>Iterative Adoption of a Frontend Framework</h1> <header class=svelte-1jdubmn><div class="svelte-1jdubmn post-info"><img alt="Teemu Karppinen" class=svelte-1jdubmn src=/me2.jpg> <div class="svelte-1jdubmn post-info-inner"><a href=https://teemukarppinen.dev class=svelte-1jdubmn>Teemu Karppinen</a> <span class=svelte-1jdubmn><span class="svelte-1jdubmn divider">8/9/2020</span> <span class="svelte-1jdubmn divider-dot">•</span> <span class="svelte-1jdubmn divider">4 min read</span></span></div></div></header> <div class="svelte-1r59cqt content"><p>When starting a new frontend project in 2020 you're greeted with multiple nice tools and prebuilt configurations. Create-react-app, next.js, vue-cli, sapper... the list goes on. All of these tools provide brilliant DX and usually in the right hands yield an amazing end result. But what if we don't have the option to start from scratch?</p> <h2 id=enchancing-an-old-frontend-⚡>Enchancing an old frontend ⚡</h2> <p>Some frameworks advertise the ability to be iteratively adopted more than the other. One framework which usually pops up in these discussions is Vue.js. They claim to be "incrementally adoptable" which I personally can say is true, but there is surprisingly little material about journeys of that incremental adoption online.</p> <p>Vue.js docs guide you to just drop a script tag into your page, type <code>new Vue({ ... })</code> and start hacking. That'll get you started for sure, but for a larger scale you might want to know a little more than that. Let's say you're working in an environment where the backend has some say how it serves the front end code and you don't really have a complicated build phase for your frontend. Something like a typical Wordpress / Drupal site, with some js/css files sprinkled on top.</p> <p>For example, single file components (SFC) are not really a thing without going through the hassle of setting up some sort of custom build phase with webpack. Also the magical part of your app just appering into the DOM you'll also have to manage by yourself. This isn't as hard as it sounds though.</p> <h2 id=serving-and-mounting-🔌>Serving and mounting 🔌</h2> <p>As previously said, Vue.js (and most other non-compiled frameworks) only require you to have the script loaded on the page. If you have any sort of library management already going on in your page, this is likely a non-issue. Just load the script before the rest of your code and that's it.</p> <p>The next part is the mounting of the Vue.js component / app. This is where you'll have to consider some variables. Usually, the smartest move is to pick a separated functionality from the rest of your app. Say a data-panel, a navigation element, or something along those lines. The main thing you want to avoid is excessive communication between your existing frontend and your new Vue.js component. That is also completely possible, but it can get messy real fast.</p> <p>The actual mounting is super easy, Vue.js provides a <code>$mount</code> -function, which can target any element from the DOM. You can think it kind of like jQuerys <code>.appendTo</code>. In the react world the same functionality is achieved with <code>ReactDOM.render</code>. The cool part about Vue.js' <code>$mount</code> is that you can omit the element from the function which starts the vue instance without visually mounting it, and you can just access the vue element with <code>$el</code> and mount it when you're ready. This can prove useful sometimes.</p> <h2 id=templating-📐>Templating 📐</h2> <p>Without single file components, you're most likely left wondering: "What about my templates?". Well, in react you'll want to use JSX / TSX but that'll require you to compile that down to plain js. In Vue.js you'll have the <code>template</code> property, which allows you to just use a html as a string as the template of the element! This sound a bit sketchy, but it works super nicely.</p> <p>My personal preferred way is to use template literals. This allows for some funky little tricks that might not even be possible with SFC's like injecting variables like translated strings into the UI on the fly with <code>${someVariable}</code> -syntax without even passing it to the vue's vm! You can even have some syntax highlighting on your templates with vs-code extension comment-tagged-templates.</p> <p>I've also seen setups where people generate templates with PHP on the backend, inline that generated template into the js script and pass that into the vue instance. I can't really comment on that approach without trying it myself but I can see the template on the PHP side looking a bit wild with all the vue syntax sprinkled in. But there's no doubt you can do some pretty powerful things like that.</p> <h2 id=styling-💅>Styling 💅</h2> <p>This is the not so pretty part in my opinion. Single file components and modern build tools provide amazing tools for scoping, theming and for other style related stuff. But if you're doing iterative adoption you'll likely have to be still working with regular stylesheets. This is where you'll just have to figure out the best way for your specific stack yourself. The most effective way to style components from a global stylesheet for me has been using SASS with BEM, but your mileage may vary.</p> <h2 id=first-component--feature-is-shipped-now-what-🥇🥈🥉>First component / feature is shipped, now what? 🥇🥈🥉</h2> <p>Keep hammering! Add more elements to your page or start moving your existing root deeper in to the app. Adding more components to your page isn't something you'll have to worry about. I've seen people saying that multiple roots in a page is bad but actually there isn't that much to worry about. The recursive nature of the DOM means that most of the frontend frameworks are built so that nested components are basically just a new instance but with some optimisations. Sprinkling a lot of roots to your page is not necessarily that much of a performance hit in comparison. I've personally worked in a codebase where there is more than a 100 vue roots in the same page and it worked just fine.</p> <p>There is also a surprising amount of ways to programmatically communicate between outside and inside of the components and even between 2 different roots. If you feel like it, you can even throw in a store like Vuex and have multiple vue roots link to that.</p> <p>Of course, if you have the possibility to just start moving the root of your framework deeper into the app and not create more roots, that's good. That'll save you the time of handling the complexity of creating and mounting multiple vue instances. Just go with whatever works for you, as long as you can get stuff done there and feel like you're moving towards an improved piece of software there are no "wrong ways" to go about iterative adoption!</p> </div> <div class="svelte-1r59cqt blog-disclaimer"><span>Hey! If you're looking for a comment section I'm sorry to disappoint you: I haven't had time to make one yet. 🤐 But if you wanna call me out on my bull💩, just ping me <a href=https://twitter.com/Temetias>@Twitter</a> meanwhile! </span></div></main> <footer class=svelte-1q2oy3t><ul class="svelte-1q2oy3t socials"><li class=svelte-1q2oy3t><a href=https://github.com/Temetias class=svelte-1q2oy3t><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill=currentColor></path></svg> /Temetias </a></li> <li class=svelte-1q2oy3t><a href=https://twitter.com/Temetias class=svelte-1q2oy3t><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill=currentColor></path></svg> @Temetias </a></li> <li class=svelte-1q2oy3t><a href=https://www.linkedin.com/in/teemu-karppinen-1174b1139/ class=svelte-1q2oy3t><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill=currentColor></path></svg> Teemu Karppinen </a></li> <li class=svelte-1q2oy3t><a href=https://twitch.tv/teemukarppinen class=svelte-1q2oy3t><svg aria-hidden=true class="fa-svelte svelte-1d15yci" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d=M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z fill=currentColor></path></svg> /teemukarppinen </a></ul> <span class="svelte-1q2oy3t last-update"></span></footer></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"Iterative Adoption of a Frontend Framework",slug:"iterative-adoption-of-a-frontend-framework",date:new Date(1596931200000),author:"Teemu Karppinen",authorImg:"\u002Fme2.jpg",authorLink:"https:\u002F\u002Fteemukarppinen.dev",content:"\u003Cp\u003EWhen starting a new frontend project in 2020 you&#39;re greeted with multiple nice tools and prebuilt configurations. Create-react-app, next.js, vue-cli, sapper... the list goes on. All of these tools provide brilliant DX and usually in the right hands yield an amazing end result. But what if we don&#39;t have the option to start from scratch?\u003C\u002Fp\u003E\n\u003Ch2 id=\"enchancing-an-old-frontend-⚡\"\u003EEnchancing an old frontend ⚡\u003C\u002Fh2\u003E\n\u003Cp\u003ESome frameworks advertise the ability to be iteratively adopted more than the other. One framework which usually pops up in these discussions is Vue.js. They claim to be &quot;incrementally adoptable&quot; which I personally can say is true, but there is surprisingly little material about journeys of that incremental adoption online.\u003C\u002Fp\u003E\n\u003Cp\u003EVue.js docs guide you to just drop a script tag into your page, type \u003Ccode\u003Enew Vue({ ... })\u003C\u002Fcode\u003E and start hacking. That&#39;ll get you started for sure, but for a larger scale you might want to know a little more than that. Let&#39;s say you&#39;re working in an environment where the backend has some say how it serves the front end code and you don&#39;t really have a complicated build phase for your frontend. Something like a typical Wordpress \u002F Drupal site, with some js\u002Fcss files sprinkled on top.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, single file components (SFC) are not really a thing without going through the hassle of setting up some sort of custom build phase with webpack. Also the magical part of your app just appering into the DOM you&#39;ll also have to manage by yourself. This isn&#39;t as hard as it sounds though.\u003C\u002Fp\u003E\n\u003Ch2 id=\"serving-and-mounting-🔌\"\u003EServing and mounting 🔌\u003C\u002Fh2\u003E\n\u003Cp\u003EAs previously said, Vue.js (and most other non-compiled frameworks) only require you to have the script loaded on the page. If you have any sort of library management already going on in your page, this is likely a non-issue. Just load the script before the rest of your code and that&#39;s it.\u003C\u002Fp\u003E\n\u003Cp\u003EThe next part is the mounting of the Vue.js component \u002F app. This is where you&#39;ll have to consider some variables. Usually, the smartest move is to pick a separated functionality from the rest of your app. Say a data-panel, a navigation element, or something along those lines. The main thing you want to avoid is excessive communication between your existing frontend and your new Vue.js component. That is also completely possible, but it can get messy real fast.\u003C\u002Fp\u003E\n\u003Cp\u003EThe actual mounting is super easy, Vue.js provides a \u003Ccode\u003E$mount\u003C\u002Fcode\u003E -function, which can target any element from the DOM. You can think it kind of like jQuerys \u003Ccode\u003E.appendTo\u003C\u002Fcode\u003E. In the react world the same functionality is achieved with \u003Ccode\u003EReactDOM.render\u003C\u002Fcode\u003E. The cool part about Vue.js&#39; \u003Ccode\u003E$mount\u003C\u002Fcode\u003E is that you can omit the element from the function which starts the vue instance without visually mounting it, and you can just access the vue element with \u003Ccode\u003E$el\u003C\u002Fcode\u003E and mount it when you&#39;re ready. This can prove useful sometimes.\u003C\u002Fp\u003E\n\u003Ch2 id=\"templating-📐\"\u003ETemplating 📐\u003C\u002Fh2\u003E\n\u003Cp\u003EWithout single file components, you&#39;re most likely left wondering: &quot;What about my templates?&quot;. Well, in react you&#39;ll want to use JSX \u002F TSX but that&#39;ll require you to compile that down to plain js. In Vue.js you&#39;ll have the \u003Ccode\u003Etemplate\u003C\u002Fcode\u003E property, which allows you to just use a html as a string as the template of the element! This sound a bit sketchy, but it works super nicely.\u003C\u002Fp\u003E\n\u003Cp\u003EMy personal preferred way is to use template literals. This allows for some funky little tricks that might not even be possible with SFC&#39;s like injecting variables like translated strings into the UI on the fly with \u003Ccode\u003E${someVariable}\u003C\u002Fcode\u003E -syntax without even passing it to the vue&#39;s vm! You can even have some syntax highlighting on your templates with vs-code extension comment-tagged-templates.\u003C\u002Fp\u003E\n\u003Cp\u003EI&#39;ve also seen setups where people generate templates with PHP on the backend, inline that generated template into the js script and pass that into the vue instance. I can&#39;t really comment on that approach without trying it myself but I can see the template on the PHP side looking a bit wild with all the vue syntax sprinkled in. But there&#39;s no doubt you can do some pretty powerful things like that.\u003C\u002Fp\u003E\n\u003Ch2 id=\"styling-💅\"\u003EStyling 💅\u003C\u002Fh2\u003E\n\u003Cp\u003EThis is the not so pretty part in my opinion. Single file components and modern build tools provide amazing tools for scoping, theming and for other style related stuff. But if you&#39;re doing iterative adoption you&#39;ll likely have to be still working with regular stylesheets. This is where you&#39;ll just have to figure out the best way for your specific stack yourself. The most effective way to style components from a global stylesheet for me has been using SASS with BEM, but your mileage may vary.\u003C\u002Fp\u003E\n\u003Ch2 id=\"first-component--feature-is-shipped-now-what-🥇🥈🥉\"\u003EFirst component \u002F feature is shipped, now what? 🥇🥈🥉\u003C\u002Fh2\u003E\n\u003Cp\u003EKeep hammering! Add more elements to your page or start moving your existing root deeper in to the app. Adding more components to your page isn&#39;t something you&#39;ll have to worry about. I&#39;ve seen people saying that multiple roots in a page is bad but actually there isn&#39;t that much to worry about. The recursive nature of the DOM means that most of the frontend frameworks are built so that nested components are basically just a new instance but with some optimisations. Sprinkling a lot of roots to your page is not necessarily that much of a performance hit in comparison. I&#39;ve personally worked in a codebase where there is more than a 100 vue roots in the same page and it worked just fine.\u003C\u002Fp\u003E\n\u003Cp\u003EThere is also a surprising amount of ways to programmatically communicate between outside and inside of the components and even between 2 different roots. If you feel like it, you can even throw in a store like Vuex and have multiple vue roots link to that.\u003C\u002Fp\u003E\n\u003Cp\u003EOf course, if you have the possibility to just start moving the root of your framework deeper into the app and not create more roots, that&#39;s good. That&#39;ll save you the time of handling the complexity of creating and mounting multiple vue instances. Just go with whatever works for you, as long as you can get stuff done there and feel like you&#39;re moving towards an improved piece of software there are no &quot;wrong ways&quot; to go about iterative adoption!\u003C\u002Fp\u003E\n",readTime:4}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');</script><script src=/client/09cf2fde81f0ccb42afc/main.js></script> 